<!--This script builds a zip for Teiid Server Installation -->
<assembly>
  
  <id>embedded-dist</id>
  
  <formats>
    <format>zip</format>
  </formats>
  
  <includeBaseDirectory>false</includeBaseDirectory>
  <baseDirectory>teiid-${project.version}</baseDirectory>

  <fileSets>
    <fileSet>
        <directory>target/kits/embedded</directory>
        <outputDirectory>/</outputDirectory>      
        <includes>
          <include>**/*.sh</include>
        </includes>   
        <fileMode>755</fileMode>  
    </fileSet> 
          
    <fileSet>
        <directory>target/kits/embedded</directory>
        <outputDirectory>/</outputDirectory>      
        <excludes>
          <exclude>**/*.sh</exclude>
        </excludes>      
    </fileSet>
  </fileSets>

<!--
  <dependencySets>
      <dependencySet>
        <includes>
          <include>com.h2database:h2:jar</include>
        </includes>
        <outputDirectory>optional/jdbc/h2</outputDirectory>
        <unpack>false</unpack>
        <useTransitiveDependencies>false</useTransitiveDependencies>
        <scope>provided</scope>
      </dependencySet>
   </dependencySets>
  -->
  <moduleSets>
    
    <moduleSet>
        <useAllReactorProjects>true</useAllReactorProjects>

        <includes>
            <include>org.jboss.teiid.examples:teiid-examples-common</include>
	    <include>org.jboss.teiid.examples:embedded-portfolio</include>
	    <include>org.jboss.teiid.examples:excel-as-a-datasource</include>
        </includes>

        <binaries>
          <includeDependencies>false</includeDependencies>
          <unpack>true</unpack>
          <outputDirectory>.</outputDirectory>
          <attachmentClassifier>embedded-dist</attachmentClassifier>
        </binaries>

    </moduleSet>
    
    </moduleSets>
</assembly>
